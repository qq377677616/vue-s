(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10209be8"],{"0548":function(e,t,i){"use strict";var r=i("8473e"),n=i.n(r);n.a},"49ec":function(e,t,i){},"71c2":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"wrap"},[e.isBack?i("div",{staticClass:"back",on:{click:e.back}},[i("i",{staticClass:"iconfont icon-fanhui1"})]):e._e(),i("h3",[e._v(e._s(e.title))])])])},n=[],o={name:"",props:{title:{type:String,default:"页面标题"},isBack:{type:Boolean,default:!0}},data:function(){return{}},methods:{back:function(){var e=sessionStorage.getItem("prevPage")||"/";this.$router.replace(e),sessionStorage.setItem("prevPage","")}}},a=o,s=(i("0548"),i("9ca4")),c=Object(s["a"])(a,r,n,!1,null,"20ec2505",null);t["a"]=c.exports},"720b":function(e,t,i){"use strict";var r=i("49ec"),n=i.n(r);n.a},"8473e":function(e,t,i){},"995d":function(e,t,i){var r,n;!function(i,o,a,s){var c,d,l,u,m,f,g,h,p,v,b,w,y,C,S,k,F,x,E,W,O,A;c=function(){var e={URL:i.URL||i.webkitURL||i.mozURL||i.msURL,getUserMedia:function(){var e=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia;return e?e.bind(a):e}(),requestAnimFrame:i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame,requestTimeout:function(t,i){function r(){var e=(new Date).getTime(),s=e-n;s>=i?t.call():o.value=a(r)}if(t=t||e.noop,i=i||0,!e.requestAnimFrame)return setTimeout(t,i);var n=(new Date).getTime(),o=new Object,a=e.requestAnimFrame;return o.value=a(r),o},Blob:i.Blob||i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,btoa:function(){var e=i.btoa||function(e){for(var t,i,r,n,o,a,s,c="",d=0,l=e.length,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l>d;)t=e.charCodeAt(d++),i=e.charCodeAt(d++),r=e.charCodeAt(d++),n=t>>2,o=(3&t)<<4|i>>4,a=(15&i)<<2|r>>6,s=63&r,isNaN(i)?a=s=64:isNaN(r)&&(s=64),c=c+u.charAt(n)+u.charAt(o)+u.charAt(a)+u.charAt(s);return c};return e?e.bind(i):function(){}}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(t){return e.isObject(t)&&!Object.keys(t).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return i.Worker},blob:function(){return e.Blob},Uint8Array:function(){return i.Uint8Array},Uint32Array:function(){return i.Uint32Array},videoCodecs:function(){var t=o.createElement("video"),i={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(i.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),i.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),i.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),i.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),i.webm=-1!==t.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return i}()},noop:function(){},each:function(t,i){var r,n;if(e.isArray(t))for(r=-1,n=t.length;++r<n&&!1!==i(r,t[r]););else if(e.isObject(t))for(r in t)if(t.hasOwnProperty(r)&&!1===i(r,t[r]))break},mergeOptions:function t(i,r){if(e.isObject(i)&&e.isObject(r)&&Object.keys){var n={};return e.each(i,(function(e){n[e]=i[e]})),e.each(r,(function(o){var a=r[o];n[o]=e.isObject(a)&&i[o]?t(i[o],a):a})),n}},setCSSAttr:function(t,i,r){e.isElement(t)&&(e.isString(i)&&e.isString(r)?t.style[i]=r:e.isObject(i)&&e.each(i,(function(e,i){t.style[e]=i})))},removeElement:function(t){e.isElement(t)&&t.parentNode&&t.parentNode.removeChild(t)},createWebWorker:function(t){if(!e.isString(t))return{};try{var i=new e.Blob([t],{type:"text/javascript"}),r=e.URL.createObjectURL(i),n=new Worker(r);return{objectUrl:r,worker:n}}catch(d){return""+d}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(e){if(e=e||{},!o.body||!1===e.resizeFont)return e.fontSize;var t=e.text,i=e.gifWidth,r=parseInt(e.fontSize,10),n=parseInt(e.minFontSize,10),a=o.createElement("div"),s=o.createElement("span");for(a.setAttribute("width",i),a.appendChild(s),s.innerHTML=t,s.style.fontSize=r+"px",s.style.textIndent="-9999px",s.style.visibility="hidden",o.body.appendChild(s);s.offsetWidth>i&&r>=n;)s.style.fontSize=--r+"px";return o.body.removeChild(s),r+"px"},webWorkerError:!1};return e}(),d=function(e){var t={validate:function(i){i=e.isObject(i)?i:{};var r={};return e.each(t.validators,(function(e,t){var n=t.errorCode;return i[n]||t.condition?void 0:(r=t,r.error=!0,!1)})),delete r.condition,r},isValid:function(e){var i=t.validate(e),r=!0!==i.error;return r},validators:[{condition:e.isFunction(e.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:e.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:e.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:e.isFunction(e.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:e.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:e.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:e.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}};return t}(c),l={sampleInterval:10,numWorkers:2,gifWidth:200,gifHeight:200,interval:.1,numFrames:10,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:function(){},completeCallback:function(){},saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},u=function(){return d.isValid()},m=function(){return d.isValid()},f=function(){var e={getUserMedia:!0};return d.isValid(e)},g=function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,(function(e,i){c.isSupported.videoCodecs[i]&&(t=!0)})),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return d.isValid({getUserMedia:!0})},h=function(){function e(){function e(e,t,i){var r,n;for(u=e,m=t,f=i,g=new Array(h),r=0;h>r;r++)g[r]=new Array(4),n=g[r],n[0]=n[1]=n[2]=(r<<S+8)/h|0,q[r]=x/h|0,G[r]=0}function t(){for(var e=[],t=new Array(h),i=0;h>i;i++)t[g[i][3]]=i;for(var r=0,n=0;h>n;n++){var o=t[n];e[r++]=g[o][0],e[r++]=g[o][1],e[r++]=g[o][2]}return e}function i(){var e,t,i,r,n,o,a,s;for(a=0,s=0,e=0;h>e;e++){for(n=g[e],i=e,r=n[1],t=e+1;h>t;t++)o=g[t],o[1]<r&&(i=t,r=o[1]);if(o=g[i],e!=i&&(t=o[0],o[0]=n[0],n[0]=t,t=o[1],o[1]=n[1],n[1]=t,t=o[2],o[2]=n[2],n[2]=t,t=o[3],o[3]=n[3],n[3]=t),r!=a){for(B[a]=s+e>>1,t=a+1;r>t;t++)B[t]=e;a=r,s=e}}for(B[a]=s+C>>1,t=a+1;256>t;t++)B[t]=C}function r(){var e,t,i,r,n,o,a,g,h,C,F,x,E,W;for(y>m&&(f=1),l=30+(f-1)/3,x=u,E=0,W=m,F=m/(3*f),C=F/k|0,g=j,o=M,a=o>>R,1>=a&&(a=0),e=0;a>e;e++)D[e]=g*((a*a-e*e)*H/(a*a));for(h=y>m?3:m%p!==0?3*p:m%v!==0?3*v:m%b!==0?3*b:3*w,e=0;F>e;)if(i=(255&x[E+0])<<S,r=(255&x[E+1])<<S,n=(255&x[E+2])<<S,t=d(i,r,n),c(g,t,i,r,n),0!==a&&s(a,t,i,r,n),E+=h,E>=W&&(E-=m),e++,0===C&&(C=1),e%C===0)for(g-=g/l,o-=o/T,a=o>>R,1>=a&&(a=0),t=0;a>t;t++)D[t]=g*((a*a-t*t)*H/(a*a))}function n(e,t,i){var r,n,o,a,s,c,d;for(s=1e3,d=-1,r=B[t],n=r-1;h>r||n>=0;)h>r&&(c=g[r],o=c[1]-t,o>=s?r=h:(r++,0>o&&(o=-o),a=c[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=c[2]-i,0>a&&(a=-a),o+=a,s>o&&(s=o,d=c[3])))),n>=0&&(c=g[n],o=t-c[1],o>=s?n=-1:(n--,0>o&&(o=-o),a=c[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=c[2]-i,0>a&&(a=-a),o+=a,s>o&&(s=o,d=c[3]))));return d}function o(){return r(),a(),i(),t()}function a(){var e;for(e=0;h>e;e++)g[e][0]>>=S,g[e][1]>>=S,g[e][2]>>=S,g[e][3]=e}function s(e,t,i,r,n){var o,a,s,c,d,l,u;for(s=t-e,-1>s&&(s=-1),c=t+e,c>h&&(c=h),o=t+1,a=t-1,l=1;c>o||a>s;){if(d=D[l++],c>o){u=g[o++];try{u[0]-=d*(u[0]-i)/P|0,u[1]-=d*(u[1]-r)/P|0,u[2]-=d*(u[2]-n)/P|0}catch(m){}}if(a>s){u=g[a--];try{u[0]-=d*(u[0]-i)/P|0,u[1]-=d*(u[1]-r)/P|0,u[2]-=d*(u[2]-n)/P|0}catch(m){}}}}function c(e,t,i,r,n){var o=g[t],a=e/j;o[0]-=a*(o[0]-i)|0,o[1]-=a*(o[1]-r)|0,o[2]-=a*(o[2]-n)|0}function d(e,t,i){var r,n,o,a,s,c,d,l,u,m;for(l=~(1<<31),u=l,c=-1,d=c,r=0;h>r;r++)m=g[r],n=m[0]-e,0>n&&(n=-n),o=m[1]-t,0>o&&(o=-o),n+=o,o=m[2]-i,0>o&&(o=-o),n+=o,l>n&&(l=n,c=r),a=n-(G[r]>>F-S),u>a&&(u=a,d=r),s=q[r]>>W,q[r]-=s,G[r]+=s<<E;return q[c]+=O,G[c]-=A,d}var l,u,m,f,g,h=256,p=499,v=491,b=487,w=503,y=3*w,C=h-1,S=4,k=100,F=16,x=1<<F,E=10,W=10,O=x>>W,A=x<<E-W,U=h>>3,R=6,I=1<<R,M=U*I,T=30,V=10,j=1<<V,z=8,H=1<<z,L=V+z,P=1<<L,B=[],G=[],q=[],D=[];e.apply(this,arguments);var _={};return _.map=n,_.process=o,_}return e}(),p=function(e){var t=function(){try{self.onmessage=function(e){var t,r=e.data||{};r.gifshot&&(t=i.run(r),postMessage(t))}}catch(t){}var i={dataToRGB:function(e,t,i){for(var r=0,n=t*i*4,o=[];n>r;)o.push(e[r++]),o.push(e[r++]),o.push(e[r++]),r++;return o},componentizedPaletteToArray:function(e){var t,i,r,n,o=[];for(t=0;t<e.length;t+=3)i=e[t],r=e[t+1],n=e[t+2],o.push(i<<16|r<<8|n);return o},processFrameWithQuantizer:function(t,i,r,n){var o,a,s,c,d=this.dataToRGB(t,i,r),l=new e(d,d.length,n),u=l.process(),m=new Uint32Array(this.componentizedPaletteToArray(u)),f=i*r,g=new Uint8Array(f),h=0;for(o=0;f>o;o++)a=d[h++],s=d[h++],c=d[h++],g[o]=l.map(a,s,c);return{pixels:g,palette:m}},run:function(e){var t=e.width,i=e.height,r=e.data,n=(e.palette,e.sampleInterval);return this.processFrameWithQuantizer(r,t,i,n)}};return i};return t}(h),v=function(e,t,i,r){function n(e){var t=e.length;if(2>t||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}function o(e,t,i,r){function n(i){for(;f>=i;)e[t++]=255&g,g>>=8,f-=8,t===a+256&&(e[a]=255,a=t++)}function o(e){g|=e<<f,f+=m,n(8)}e[t++]=i;var a=t++,c=1<<i,d=c-1,l=c+1,u=l+1,m=i+1,f=0,g=0,h=r[0]&d,p={};o(c);for(var v=1,b=r.length;b>v;++v){var w=r[v]&d,y=h<<8|w,C=p[y];if(C===s){for(g|=h<<f,f+=m;f>=8;)e[t++]=255&g,g>>=8,f-=8,t===a+256&&(e[a]=255,a=t++);4096===u?(o(c),u=l+1,m=i+1,p={}):(u>=1<<m&&++m,p[y]=u++),h=w}else h=C}return o(h),o(l),n(1),a+1===t?e[a]=0:(e[a]=t-a-1,e[t++]=0),t}var a=0;r=r===s?{}:r;var c=r.loop===s?null:r.loop,d=r.palette===s?null:r.palette;if(0>=t||0>=i||t>65535||i>65535)throw"Width/Height invalid.";e[a++]=71,e[a++]=73,e[a++]=70,e[a++]=56,e[a++]=57,e[a++]=97;var l=0,u=0;if(e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&i,e[a++]=i>>8&255,e[a++]=(null!==d?128:0)|l,e[a++]=u,e[a++]=0,null!==c){if(0>c||c>65535)throw"Loop count invalid.";e[a++]=33,e[a++]=255,e[a++]=11,e[a++]=78,e[a++]=69,e[a++]=84,e[a++]=83,e[a++]=67,e[a++]=65,e[a++]=80,e[a++]=69,e[a++]=50,e[a++]=46,e[a++]=48,e[a++]=3,e[a++]=1,e[a++]=255&c,e[a++]=c>>8&255,e[a++]=0}var m=!1;this.addFrame=function(t,i,r,c,l,u){if(!0===m&&(--a,m=!1),u=u===s?{}:u,0>t||0>i||t>65535||i>65535)throw"x/y invalid.";if(0>=r||0>=c||r>65535||c>65535)throw"Width/Height invalid.";if(l.length<r*c)throw"Not enough pixels for the frame size.";var f=!0,g=u.palette;if((g===s||null===g)&&(f=!1,g=d),g===s||null===g)throw"Must supply either a local or global palette.";for(var h=n(g),p=0;h>>=1;)++p;h=1<<p;var v=u.delay===s?0:u.delay,b=u.disposal===s?0:u.disposal;if(0>b||b>3)throw"Disposal out of range.";var w=!1,y=0;if(u.transparent!==s&&null!==u.transparent&&(w=!0,y=u.transparent,0>y||y>=h))throw"Transparent color index.";if((0!==b||w||0!==v)&&(e[a++]=33,e[a++]=249,e[a++]=4,e[a++]=b<<2|(!0===w?1:0),e[a++]=255&v,e[a++]=v>>8&255,e[a++]=y,e[a++]=0),e[a++]=44,e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&i,e[a++]=i>>8&255,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=255&c,e[a++]=c>>8&255,e[a++]=!0===f?128|p-1:0,!0===f)for(var C=0,S=g.length;S>C;++C){var k=g[C];e[a++]=k>>16&255,e[a++]=k>>8&255,e[a++]=255&k}a=o(e,a,2>p?2:p,l)},this.end=function(){return!1===m&&(e[a++]=59,m=!0),a}},b=function(e,t,i,r){var n=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=e.noop,this.onRenderProgressCallback=e.noop,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};return n.prototype={workerMethods:t(),initializeWebWorkers:function(r){var n,a,s,c,d=i.toString()+"("+t.toString()+"());",l=-1,u="";for(c=r.numWorkers;++l<c;)n=e.createWebWorker(d),e.isObject(n)?(a=n.objectUrl,s=n.worker,this.workers.push({worker:s,objectUrl:a}),this.availableWorkers.push(s)):(u=n,e.webWorkerError=!!n);this.workerError=u,this.canvas=o.createElement("canvas"),this.canvas.width=r.gifWidth,this.canvas.height=r.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;256>t;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,i="",r=-1;++r<t;)i+=this.byteMap[e[r]];return i},onFrameFinished:function(t){var i=this,r=i.frames,n=i.options;hasExistingImages=!!(n.images||[]).length,allDone=r.every((function(e){return!e.beingProcessed&&e.done})),i.numRenderedFrames++,hasExistingImages&&t(i.numRenderedFrames/r.length),i.onRenderProgressCallback(.75*i.numRenderedFrames/r.length),allDone?i.generatingGIF||i.generateGIF(r,i.onRenderCompleteCallback):e.requestTimeout((function(){i.processNextFrame()}),1)},processFrame:function(e){var t,i,r=this,n=this.options,o=n.progressCallback,a=n.sampleInterval,s=this.frames,c=function(e){var n=e.data;delete t.data,t.pixels=Array.prototype.slice.call(n.pixels),t.palette=Array.prototype.slice.call(n.palette),t.done=!0,t.beingProcessed=!1,r.freeWorker(i),r.onFrameFinished(o)};return t=s[e],t.beingProcessed||t.done?void this.onFrameFinished():(t.sampleInterval=a,t.beingProcessed=!0,t.gifshot=!0,i=this.getWorker(),void(i?(i.onmessage=c,i.postMessage(t)):c({data:r.workerMethods.run(t)})))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var i=this.frames[t];if(!i.done&&!i.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(t,i){var n,o,a=[],s={loop:this.repeat},c=this.options,d=c.interval,l=c.images,u=!!l.length,m=c.gifHeight,f=c.gifWidth,g=new r(a,f,m,s),h=this.onRenderProgressCallback,p=u?100*d:0;this.generatingGIF=!0,e.each(t,(function(e,i){var r=i.palette;h(.75+.25*i.position*1/t.length),g.addFrame(0,0,f,m,i.pixels,{palette:r,delay:p})})),g.end(),h(1),this.frames=[],this.generatingGIF=!1,e.isFunction(i)&&(n=this.bufferToString(a),o="data:image/gif;base64,"+e.btoa(n),i(o))},setRepeat:function(e){this.repeat=e},addFrame:function(t,i){i=e.isObject(i)?i:{};var r,n=this,o=n.ctx,a=n.options,s=a.gifWidth,c=a.gifHeight,d=(i.gifHeight,i.gifWidth,i.text),l=i.fontWeight,u=e.getFontSize(i),m=i.fontFamily,f=i.fontColor,g=i.textAlign,h=i.textBaseline,p=i.textXCoordinate?i.textXCoordinate:"left"===g?1:"right"===g?s:s/2,v=i.textYCoordinate?i.textYCoordinate:"top"===h?1:"center"===h?c/2:c,b=l+" "+u+" "+m;try{o.drawImage(t,0,0,s,c),d&&(o.font=b,o.fillStyle=f,o.textAlign=g,o.textBaseline=h,o.fillText(d,p,v)),r=o.getImageData(0,0,s,c),n.addFrameImageData(r)}catch(k){return""+k}},addFrameImageData:function(e){var t=this.frames,i=e.data;this.frames.push({data:i,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(t){var i=this,r=function(r){i.destroyWorkers(),e.requestTimeout((function(){t(r)}),0)};i.startRendering(r)},destroyWorkers:function(){if(!this.workerError){var t=this.workers;e.each(t,(function(t,i){var r=i.worker,n=i.objectUrl;r.terminate(),e.URL.revokeObjectURL(n)}))}}},n}(c,p,h,v),w=function(e,t){e.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})}))},y=function(e){function t(){c.each(g,(function(e,t){t&&r.addFrame(t,u)})),w(r,l)}var i,r,n=e.images,a=e.imagesLength,l=e.callback,u=e.options,m={getUserMedia:!0,"window.URL":!0},f=d.validate(m),g=[],h=0;return f.error?l(f):(r=new b(u),void c.each(n,(function(e,r){c.isElement(r)?(u.crossOrigin&&(r.crossOrigin=u.crossOrigin),g[e]=r,h+=1,h===a&&t()):c.isString(r)&&(i=o.createElement("img"),u.crossOrigin&&(i.crossOrigin=u.crossOrigin),i.onerror=function(){g.length>e&&(g[e]=s)}(function(i){i.onload=function(){g[e]=i,h+=1,h===a&&t(),c.removeElement(i)}}(i)),i.src=r,c.setCSSAttr(i,{position:"fixed",opacity:"0"}),o.body.appendChild(i))})))},C={getGIF:function(e,t){t=c.isFunction(t)?t:c.noop;var i,r=o.createElement("canvas"),n=e.images,a=!!n.length,s=e.videoElement,d=e.keepCameraOn,l=e.webcamVideoElement,u=e.cameraStream,m=+e.gifWidth,f=+e.gifHeight,g=e.videoWidth,h=e.videoHeight,p=(e.sampleInterval,e.numWorkers,e.crop),v=+e.interval,w=a?0:1e3*v,y=e.progressCallback,C=e.savedRenderingContexts,S=e.saveRenderingContexts,k=[],F=C.length?C.length:e.numFrames,x=F,E=new b(e),W=e.text,O=e.fontWeight,A=c.getFontSize(e),U=e.fontFamily,R=e.fontColor,I=e.textAlign,M=e.textBaseline,T=e.textXCoordinate?e.textXCoordinate:"left"===I?1:"right"===I?m:m/2,V=e.textYCoordinate?e.textYCoordinate:"top"===M?1:"center"===M?f/2:f,j=O+" "+A+" "+U,z=p?Math.floor(p.scaledWidth/2):0,H=p?g-p.scaledWidth:0,L=p?Math.floor(p.scaledHeight/2):0,P=p?h-p.scaledHeight:0,B=function e(){function r(){try{H>g&&(H=g),P>h&&(P=h),0>z&&(z=0),0>L&&(L=0),i.drawImage(s,z,L,H,P,0,0,m,f),n()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(r,100)}}function n(){x=o;var n,a,g,h,p=F-x;S&&k.push(i.getImageData(0,0,m,f)),W&&(i.font=j,i.fillStyle=R,i.textAlign=I,i.textBaseline=M,i.fillText(W,T,V)),n=i.getImageData(0,0,m,f),a=n.data,g=a[0]+a[1]+a[2]+a[3],h=0===g,h?1===p&&1===F&&r():E.addFrameImageData(n),y(p/F),o>0&&c.requestTimeout(e,w),x||E.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:u,videoElement:s,webcamVideoElement:l,savedRenderingContexts:k,keepCameraOn:d})}))}var o=x-1;C.length?(i.putImageData(C[F-x],0,0),n()):r()};F=null!=F?F:10,v=null!=v?v:.1,r.width=m,r.height=f,i=r.getContext("2d"),function e(){return C.length||0!==s.currentTime?void B():void c.requestTimeout(e,100)}()},getCropDimensions:function(e){var t=e.videoWidth,i=e.videoHeight,r=e.gifWidth,n=e.gifHeight,o={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>i?(o.width=Math.round(t*(n/i))-r,o.scaledWidth=Math.round(o.width*(i/n))):(o.height=Math.round(i*(r/t))-n,o.scaledHeight=Math.round(o.height*(t/r))),o}},S={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var i=this,r=t.videoElement,n=t.cameraStream,o=t.completedCallback;r&&(r.videoWidth>0&&r.videoHeight>0?(r.removeEventListener("loadeddata",i.findVideoSize),o({videoElement:r,cameraStream:n,videoWidth:r.videoWidth,videoHeight:r.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout((function(){i.findVideoSize(t)}),200)):o({videoElement:r,cameraStream:n,videoWidth:i.defaultVideoDimensions.width,videoHeight:i.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=this,i=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,r=e.videoElement,n=e.cameraStream,o=e.streamedCallback,a=e.completedCallback;c.isFunction(o)&&o(),i?c.isString(i)&&(r.src=i,r.innerHTML='<source src="'+i+'" type="video/'+c.getExtension(i)+'" />'):r.mozSrcObject?r.mozSrcObject=n:c.URL&&(r.src=c.URL.createObjectURL(n)),r.play(),c.requestTimeout((function e(){e.count=e.count||0,!0===t.loadedData?(t.findVideoSize({videoElement:r,cameraStream:n,completedCallback:a}),t.loadedData=!1):(e.count+=1,e.count>10?t.findVideoSize({videoElement:r,cameraStream:n,completedCallback:a}):e())}),100)},startStreaming:function(e){var t=this,i=c.isFunction(e.error)?e.error:c.noop,r=c.isFunction(e.streamed)?e.streamed:c.noop,n=c.isFunction(e.completed)?e.completed:c.noop,a=e.existingVideo,s=e.webcamVideoElement,d=c.isElement(a)?a:s||o.createElement("video"),l=e.lastCameraStream,u=e.crossOrigin,m=e.options;u&&(d.crossOrigin=m.crossOrigin),d.autoplay=!0,d.loop=!0,d.muted=!0,d.addEventListener("loadeddata",(function(){t.loadedData=!0})),a?t.stream({videoElement:d,existingVideo:a,completedCallback:n}):l?t.stream({videoElement:d,cameraStream:l,streamedCallback:r,completedCallback:n}):c.getUserMedia({video:!0},(function(e){t.stream({videoElement:d,cameraStream:e,streamedCallback:r,completedCallback:n})}),i)},startVideoStreaming:function(e,t){t=t||{};var i,r=this,n=t.timeout!==s?t.timeout:0,o=t.callback,a=t.webcamVideoElement;n>0&&(i=c.requestTimeout((function(){r.onStreamingTimeout(o)}),1e4)),this.startStreaming({error:function(){o({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(i)},completed:function(t){var i=t.cameraStream,r=t.videoElement,n=t.videoWidth,o=t.videoHeight;e({cameraStream:i,videoElement:r,videoWidth:n,videoHeight:o})},lastCameraStream:t.lastCameraStream,webcamVideoElement:a,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){e=c.isObject(e)?e:{};var t=e.cameraStream,i=e.videoElement,r=e.keepCameraOn,n=e.webcamVideoElement;!r&&t&&c.isFunction(t.stop)&&t.stop(),c.isElement(i)&&!n&&(i.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&i.src&&c.URL.revokeObjectURL(i.src),c.removeElement(i))}},k=function(e){e=c.isObject(e)?e:{};var t=(c.isObject(e.options)&&e.options,e.cameraStream),i=e.videoElement,r=e.webcamVideoElement,n=e.keepCameraOn;S.stopVideoStreaming({cameraStream:t,videoElement:i,keepCameraOn:n,webcamVideoElement:r})},F=function(e,t){var i=e.options||{},r=i.images,n=i.video,a=(i.numFrames,e.cameraStream),s=e.videoElement,d=e.videoWidth,l=e.videoHeight,u=+i.gifWidth,m=+i.gifHeight,f=C.getCropDimensions({videoWidth:d,videoHeight:l,gifHeight:m,gifWidth:u}),g=t;i.crop=f,i.videoElement=s,i.videoWidth=d,i.videoHeight=l,i.cameraStream=a,c.isElement(s)&&(s.width=u+f.width,s.height=m+f.height,i.webcamVideoElement||(c.setCSSAttr(s,{position:"fixed",opacity:"0"}),o.body.appendChild(s)),s.play(),C.getGIF(i,(function(e){r&&r.length||n&&n.length||k(e),g(e)})))},x=function(e){var t,i,r=e.existingVideo,n=e.callback,o=e.options,a={getUserMedia:!0,"window.URL":!0},s=d.validate(a);if(s.error)return n(s);if(c.isElement(r)&&r.src){if(i=r.src,t=c.getExtension(i),!c.isSupported.videoCodecs[t])return n(d.messages.videoCodecs)}else c.isArray(r)&&c.each(r,(function(e,i){return t=i.substr(i.lastIndexOf(".")+1,i.length),c.isSupported.videoCodecs[t]?(r=i,!1):void 0}));S.startStreaming({completed:function(e){e.options=o||{},F(e,n)},existingVideo:r,crossOrigin:o.crossOrigin,options:o})},E=function(e){var t=e.lastCameraStream,i=e.callback,r=e.webcamVideoElement,n=e.options;return m()?n.savedRenderingContexts.length?void C.getWebcamGIF(n,(function(e){i(e)})):void S.startVideoStreaming((function(e){e.options=n||{},F(e,i)}),{lastCameraStream:t,callback:i,webcamVideoElement:r,crossOrigin:n.crossOrigin}):i(d.validate())},W=function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var i=c.mergeOptions(l,e)||{},r=e.cameraStream,n=i.images,o=n?n.length:0,a=i.video,s=i.webcamVideoElement;i=c.mergeOptions(i,{gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),o?y({images:n,imagesLength:o,callback:t,options:i}):a?x({existingVideo:a,callback:t,options:i}):E({lastCameraStream:r,callback:t,webcamVideoElement:s,options:i})}},O=function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var i=c.mergeOptions(l,e),r=c.mergeOptions(i,{interval:.1,numFrames:1,gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)});W(r,t)}},A=function(e,t,i,r,n,o,a,s,c,d){var l={utils:e,error:t,defaultOptions:i,createGIF:s,takeSnapShot:c,stopVideoStreaming:d,isSupported:r,isWebCamGIFSupported:n,isExistingVideoGIFSupported:a,isExistingImagesGIFSupported:o,VERSION:"0.3.2"};return l}(c,d,l,u,m,f,g,W,O,k),function(i){r=[],n=function(){return i}.apply(t,r),void 0===n||(e.exports=n)}(A)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},b5f1:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"body"},[i("div",{staticClass:"con full-screen flex-cen-col"},[i("div",{staticClass:"top flex-cen"},e._l(e.imgList,(function(e,t){return i("img",{key:"key"+t,attrs:{src:e,alt:""}})})),0),i("button",{class:{dis:e.gifUrl},on:{click:e.compose}},[e._v("一键合成gif")]),i("div",{staticClass:"bottoms"},[i("img",{attrs:{src:e.gifUrl,alt:""}})])])])},n=[],o=i("71c2"),a=i("995d"),s=i.n(a),c={name:"create-gif",data:function(){return{pageTitle:"合成gif图",imgList:["https://img.vrupup.com/web/szq/images/avatar_01.png","https://img.vrupup.com/web/szq/images/avatar_02.png","https://img.vrupup.com/web/szq/images/avatar_03.png","https://img.vrupup.com/web/szq/images/avatar_04.png"],gifUrl:""}},methods:{compose:function(){var e=this;this.gifUrl||(this.$toast.loading({message:"合成中",duration:0,loadingType:"spinner"}),s.a.createGIF({interval:.7,gifWidth:200,gifHeight:200,images:this.imgList},(function(t){if(!t.error){e.$toast.clear(),e.$toast("合成完成");var i=t.image;e.gifUrl=i}})))}},components:{MyHeader:o["a"]}},d=c,l=(i("720b"),i("9ca4")),u=Object(l["a"])(d,r,n,!1,null,"6afdb749",null);t["default"]=u.exports}}]);