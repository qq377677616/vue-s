(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49008b1f"],{"0548":function(t,o,n){"use strict";var e=n("8473e"),i=n.n(e);i.a},"44a0":function(t,o,n){"use strict";var e=n("e75b"),i=n.n(e);i.a},"71c2":function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"header"},[n("div",{staticClass:"wrap"},[t.isBack?n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"iconfont icon-fanhui1"})]):t._e(),n("h3",[t._v(t._s(t.title))])])])},i=[],a={name:"",props:{title:{type:String,default:"页面标题"},isBack:{type:Boolean,default:!0}},data:function(){return{}},methods:{back:function(){var t=sessionStorage.getItem("prevPage")||"/";this.$router.replace(t),sessionStorage.setItem("prevPage","")}}},s=a,c=(n("0548"),n("9ca4")),r=Object(c["a"])(s,e,i,!1,null,"20ec2505",null);o["a"]=r.exports},"8473e":function(t,o,n){},"9d7c":function(t,o,n){"use strict";n.r(o);var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"body"},[n("my-header",{attrs:{title:t.pageTitle}}),t._m(0),n("div",{staticClass:"pages"},[n("div",{staticClass:"btns"},[n("button",{on:{click:function(o){return t.krpanoLoadscene(1)}}},[t._v("切换场景")]),n("button",{on:{click:function(o){return t.showHideHot(1)}}},[t._v("第一批热点")]),n("button",{on:{click:function(o){return t.showHideHot(2)}}},[t._v("第二批热点")]),n("button",{on:{click:t.getOpenGyroAuth}},[t._v("ios获取陀螺仪权限")]),n("button",{on:{click:t.openGyro}},[t._v("开启陀螺仪")]),n("button",{on:{click:function(o){return t.openGyro(!0)}}},[t._v("关闭陀螺仪")])]),n("div",{staticClass:"angle flex-cen"},[n("div",[n("span",{staticClass:"iconfont icon-ziyuanldpi",style:{transform:"rotate("+t.currentAngle+"deg)"}})])])])],1)},i=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"krpano"},[n("iframe",{attrs:{id:"krpano",src:"vtour/tour.html",frameborder:"0"}})])}],a=n("71c2"),s={methods:{krpanoLoadscene:function(t,o){this.krpanoPage.loadscene(t,o)},openGyro:function(t){this.krpanoPage.openGyro(t)},krpanoAddHotspot:function(t){if(t.length)for(var o=0;o<t.length;o++)this.krpanoPage.AddHotspot(t[o].hotName,t[o].x,t[o].y,t[o].w,t[o].h,t[o].imgSrc,t[o].text),this.krpanoPage.ChangespotSet(t[o].hotName,"visible",t[o].isShow),(t[o].animation||t[o].text)&&(t[o].animation&&t[o].text?this.krpanoPage.ChangespotSet(t[o].hotName,"onloaded","add_all_the_time_tooltip();do_crop_animation("+t[o].animation+")"):(t[o].animation&&this.krpanoPage.ChangespotSet(t[o].hotName,"onloaded","do_crop_animation("+t[o].animation+");"),t[o].text&&this.krpanoPage.ChangespotSet(t[o].hotName,"onloaded","add_all_the_time_tooltip();"))),t[o].click&&this.krpanoPage.ChangespotSet(t[o].hotName,"onclick","js("+t[o].click+")")},krpanoHideHotspot:function(t,o){for(var n=0;n<t.length;n++)this.krpanoPage.ChangespotSet(t[n].hotName,"visible",o)},rotationAngle:function(t,o,n){this.krpanoPage.rotationAngle(t,o,n)},setFov:function(t){this.krpanoPage.setFov(t)},setVlookatHlookat:function(t,o){this.krpanoPage.setVlookatHlookat(t,o)}}},c=(n("bbd5"),{name:"",mixins:[s],data:function(){return{pageTitle:"krpano全景",krpanoPage:null,hotspotList1:[{hotName:"hot1",x:"0",y:"2",w:"112",h:"100",imgSrc:"images/img_01.png",text:"西安市第一",isShow:!0,animation:"",click:"switchScene(0)"},{hotName:"hot2",x:"300",y:"0",w:"80",h:"80",imgSrc:"images/points_01.png",text:"去餐厅2",isShow:!0,animation:"64,64,50",click:"switchScene(1)"},{hotName:"hot5",x:"100",y:"0",w:"80",h:"80",imgSrc:"images/points_05.png",text:"这些文字2",isShow:!0,animation:"200,200,10",click:"switchScene(1)"}],hotspotList2:[{hotName:"hot3",x:"0",y:"30",w:"50",h:"50",imgSrc:"images/btn4.png",text:"去阳台",isShow:!1,animation:"",click:"switchScene(2)"},{hotName:"hot4",x:"200",y:"30",w:"100",h:"100",imgSrc:"images/points_02.png",text:"去卫生间",isShow:!1,animation:"100,100,50",click:"switchScene(3)"}],currentAngle:0}},mounted:function(){this.hotspotInit()},methods:{getOpenGyroAuth:function(){var t=this;window.DeviceOrientationEvent.requestPermission().then((function(o){console.log("state",o),"granted"===o?(console.log("【允许使用陀螺仪】",o),t.openGyro()):"denied"===o?console.log("【拒绝使用陀螺仪】",o):"prompt"===o&&console.log("【用户进行其他操作】",o)}))},switchScene:function(t){this.krpanoLoadscene(t.data,"elliptic + zoom")},onloadcomplete:function(){console.log("【全景初始化完成】"),this.batchAddHot()},hotspotInit:function(){var t=this;window.addEventListener("message",(function(o){o.data.eventName&&t[o.data.eventName](o.data)})),this.krpanoPage=document.getElementById("krpano").contentWindow},onviewchanged:function(t){this.currentAngle=t.data},batchAddHot:function(){this.krpanoAddHotspot(this.hotspotList1),this.krpanoAddHotspot(this.hotspotList2)},showHideHot:function(t){this.krpanoHideHotspot(this.hotspotList1,1==t),this.krpanoHideHotspot(this.hotspotList2,2==t)}},components:{MyHeader:a["a"]}}),r=c,h=(n("44a0"),n("9ca4")),l=Object(h["a"])(r,e,i,!1,null,"298e5988",null);o["default"]=l.exports},e75b:function(t,o,n){}}]);