(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-538c3e9e"],{"0548":function(e,t,r){"use strict";var i=r("7344"),n=r.n(i);n.a},"2bbe":function(e,t,r){var i=r("1c8b"),n=r("c7e6");i({target:"String",proto:!0},{repeat:n})},"2eeb":function(e,t,r){"use strict";var i=r("1c8b"),n=r("5dfd").map,o=r("1ea7"),a=r("ff9c"),s=o("map"),c=a("map");i({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"6ae3":function(e,t,r){var i=r("1c8b"),n=r("8d7b");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},"71c2":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"wrap"},[e.isBack?r("div",{staticClass:"back",on:{click:e.back}},[r("i",{staticClass:"iconfont icon-fanhui1"})]):e._e(),r("h3",[e._v(e._s(e.title))])])])},n=[],o=(r("e35a"),r("5e9f"),{name:"",props:{title:{type:String,default:"页面标题"},isBack:{type:Boolean,default:!0}},data:function(){return{}},methods:{back:function(){var e=sessionStorage.getItem("prevPage")||"/";this.$router.replace(e),sessionStorage.setItem("prevPage","")}}}),a=o,s=(r("0548"),r("e90a")),c=Object(s["a"])(a,i,n,!1,null,"20ec2505",null);t["a"]=c.exports},"720b":function(e,t,r){"use strict";var i=r("ba92"),n=r.n(i);n.a},7344:function(e,t,r){},"84bc":function(e,t,r){"use strict";var i=r("1c8b"),n=r("5dfd").every,o=r("d7e1"),a=r("ff9c"),s=o("every"),c=a("every");i({target:"Array",proto:!0,forced:!s||!c},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"995d":function(e,t,r){var i,n;r("84bc"),r("6ae3"),r("2eeb"),r("77ad"),r("3e54"),r("053b"),r("fe8a"),r("e18c"),r("1c2e"),r("2bbe"),r("8256"),r("d838"),r("ab6e"),r("927c"),r("3c51"),r("db0a"),r("1cc1"),r("ab0f"),r("fc6e"),r("f30b"),r("cfd1"),r("d104"),r("f74a"),r("3598"),r("b497"),r("2909"),r("a7ef"),r("b523"),r("e671"),r("4140"),r("83db"),r("829d"),r("939f"),r("1bb1"),r("c3ba"),function(r,o,a,s){var c,d,l,u,f,m,g,h,p,v,b,w,y,C,S,k,x,F,E,W,O,A;c=function(){var e={URL:r.URL||r.webkitURL||r.mozURL||r.msURL,getUserMedia:function(){var e=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia;return e?e.bind(a):e}(),requestAnimFrame:r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame,requestTimeout:function(t,r){function i(){var e=(new Date).getTime(),s=e-n;s>=r?t.call():o.value=a(i)}if(t=t||e.noop,r=r||0,!e.requestAnimFrame)return setTimeout(t,r);var n=(new Date).getTime(),o=new Object,a=e.requestAnimFrame;return o.value=a(i),o},Blob:r.Blob||r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,btoa:function(){var e=r.btoa||function(e){for(var t,r,i,n,o,a,s,c="",d=0,l=e.length,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l>d;)t=e.charCodeAt(d++),r=e.charCodeAt(d++),i=e.charCodeAt(d++),n=t>>2,o=(3&t)<<4|r>>4,a=(15&r)<<2|i>>6,s=63&i,isNaN(r)?a=s=64:isNaN(i)&&(s=64),c=c+u.charAt(n)+u.charAt(o)+u.charAt(a)+u.charAt(s);return c};return e?e.bind(r):function(){}}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(t){return e.isObject(t)&&!Object.keys(t).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return r.Worker},blob:function(){return e.Blob},Uint8Array:function(){return r.Uint8Array},Uint32Array:function(){return r.Uint32Array},videoCodecs:function(){var t=o.createElement("video"),r={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(r.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),r.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),r.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),r.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),r.webm=-1!==t.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return r}()},noop:function(){},each:function(t,r){var i,n;if(e.isArray(t))for(i=-1,n=t.length;++i<n&&!1!==r(i,t[i]););else if(e.isObject(t))for(i in t)if(t.hasOwnProperty(i)&&!1===r(i,t[i]))break},mergeOptions:function t(r,i){if(e.isObject(r)&&e.isObject(i)&&Object.keys){var n={};return e.each(r,(function(e){n[e]=r[e]})),e.each(i,(function(o){var a=i[o];n[o]=e.isObject(a)&&r[o]?t(r[o],a):a})),n}},setCSSAttr:function(t,r,i){e.isElement(t)&&(e.isString(r)&&e.isString(i)?t.style[r]=i:e.isObject(r)&&e.each(r,(function(e,r){t.style[e]=r})))},removeElement:function(t){e.isElement(t)&&t.parentNode&&t.parentNode.removeChild(t)},createWebWorker:function(t){if(!e.isString(t))return{};try{var r=new e.Blob([t],{type:"text/javascript"}),i=e.URL.createObjectURL(r),n=new Worker(i);return{objectUrl:i,worker:n}}catch(d){return""+d}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(e){if(e=e||{},!o.body||!1===e.resizeFont)return e.fontSize;var t=e.text,r=e.gifWidth,i=parseInt(e.fontSize,10),n=parseInt(e.minFontSize,10),a=o.createElement("div"),s=o.createElement("span");for(a.setAttribute("width",r),a.appendChild(s),s.innerHTML=t,s.style.fontSize=i+"px",s.style.textIndent="-9999px",s.style.visibility="hidden",o.body.appendChild(s);s.offsetWidth>r&&i>=n;)s.style.fontSize=--i+"px";return o.body.removeChild(s),i+"px"},webWorkerError:!1};return e}(),d=function(e){var t={validate:function(r){r=e.isObject(r)?r:{};var i={};return e.each(t.validators,(function(e,t){var n=t.errorCode;return r[n]||t.condition?void 0:(i=t,i.error=!0,!1)})),delete i.condition,i},isValid:function(e){var r=t.validate(e),i=!0!==r.error;return i},validators:[{condition:e.isFunction(e.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:e.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:e.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:e.isFunction(e.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:e.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:e.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:e.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}};return t}(c),l={sampleInterval:10,numWorkers:2,gifWidth:200,gifHeight:200,interval:.1,numFrames:10,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:function(){},completeCallback:function(){},saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},u=function(){return d.isValid()},f=function(){return d.isValid()},m=function(){var e={getUserMedia:!0};return d.isValid(e)},g=function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,(function(e,r){c.isSupported.videoCodecs[r]&&(t=!0)})),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return d.isValid({getUserMedia:!0})},h=function(){function e(){function e(e,t,r){var i,n;for(u=e,f=t,m=r,g=new Array(h),i=0;h>i;i++)g[i]=new Array(4),n=g[i],n[0]=n[1]=n[2]=(i<<S+8)/h|0,q[i]=F/h|0,G[i]=0}function t(){for(var e=[],t=new Array(h),r=0;h>r;r++)t[g[r][3]]=r;for(var i=0,n=0;h>n;n++){var o=t[n];e[i++]=g[o][0],e[i++]=g[o][1],e[i++]=g[o][2]}return e}function r(){var e,t,r,i,n,o,a,s;for(a=0,s=0,e=0;h>e;e++){for(n=g[e],r=e,i=n[1],t=e+1;h>t;t++)o=g[t],o[1]<i&&(r=t,i=o[1]);if(o=g[r],e!=r&&(t=o[0],o[0]=n[0],n[0]=t,t=o[1],o[1]=n[1],n[1]=t,t=o[2],o[2]=n[2],n[2]=t,t=o[3],o[3]=n[3],n[3]=t),i!=a){for(B[a]=s+e>>1,t=a+1;i>t;t++)B[t]=e;a=i,s=e}}for(B[a]=s+C>>1,t=a+1;256>t;t++)B[t]=C}function i(){var e,t,r,i,n,o,a,g,h,C,x,F,E,W;for(y>f&&(m=1),l=30+(m-1)/3,F=u,E=0,W=f,x=f/(3*m),C=x/k|0,g=j,o=M,a=o>>I,1>=a&&(a=0),e=0;a>e;e++)D[e]=g*((a*a-e*e)*H/(a*a));for(h=y>f?3:f%p!==0?3*p:f%v!==0?3*v:f%b!==0?3*b:3*w,e=0;x>e;)if(r=(255&F[E+0])<<S,i=(255&F[E+1])<<S,n=(255&F[E+2])<<S,t=d(r,i,n),c(g,t,r,i,n),0!==a&&s(a,t,r,i,n),E+=h,E>=W&&(E-=f),e++,0===C&&(C=1),e%C===0)for(g-=g/l,o-=o/T,a=o>>I,1>=a&&(a=0),t=0;a>t;t++)D[t]=g*((a*a-t*t)*H/(a*a))}function n(e,t,r){var i,n,o,a,s,c,d;for(s=1e3,d=-1,i=B[t],n=i-1;h>i||n>=0;)h>i&&(c=g[i],o=c[1]-t,o>=s?i=h:(i++,0>o&&(o=-o),a=c[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=c[2]-r,0>a&&(a=-a),o+=a,s>o&&(s=o,d=c[3])))),n>=0&&(c=g[n],o=t-c[1],o>=s?n=-1:(n--,0>o&&(o=-o),a=c[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=c[2]-r,0>a&&(a=-a),o+=a,s>o&&(s=o,d=c[3]))));return d}function o(){return i(),a(),r(),t()}function a(){var e;for(e=0;h>e;e++)g[e][0]>>=S,g[e][1]>>=S,g[e][2]>>=S,g[e][3]=e}function s(e,t,r,i,n){var o,a,s,c,d,l,u;for(s=t-e,-1>s&&(s=-1),c=t+e,c>h&&(c=h),o=t+1,a=t-1,l=1;c>o||a>s;){if(d=D[l++],c>o){u=g[o++];try{u[0]-=d*(u[0]-r)/P|0,u[1]-=d*(u[1]-i)/P|0,u[2]-=d*(u[2]-n)/P|0}catch(f){}}if(a>s){u=g[a--];try{u[0]-=d*(u[0]-r)/P|0,u[1]-=d*(u[1]-i)/P|0,u[2]-=d*(u[2]-n)/P|0}catch(f){}}}}function c(e,t,r,i,n){var o=g[t],a=e/j;o[0]-=a*(o[0]-r)|0,o[1]-=a*(o[1]-i)|0,o[2]-=a*(o[2]-n)|0}function d(e,t,r){var i,n,o,a,s,c,d,l,u,f;for(l=~(1<<31),u=l,c=-1,d=c,i=0;h>i;i++)f=g[i],n=f[0]-e,0>n&&(n=-n),o=f[1]-t,0>o&&(o=-o),n+=o,o=f[2]-r,0>o&&(o=-o),n+=o,l>n&&(l=n,c=i),a=n-(G[i]>>x-S),u>a&&(u=a,d=i),s=q[i]>>W,q[i]-=s,G[i]+=s<<E;return q[c]+=O,G[c]-=A,d}var l,u,f,m,g,h=256,p=499,v=491,b=487,w=503,y=3*w,C=h-1,S=4,k=100,x=16,F=1<<x,E=10,W=10,O=F>>W,A=F<<E-W,U=h>>3,I=6,R=1<<I,M=U*R,T=30,V=10,j=1<<V,z=8,H=1<<z,L=V+z,P=1<<L,B=[],G=[],q=[],D=[];e.apply(this,arguments);var _={};return _.map=n,_.process=o,_}return e}(),p=function(e){var t=function(){try{self.onmessage=function(e){var t,i=e.data||{};i.gifshot&&(t=r.run(i),postMessage(t))}}catch(t){}var r={dataToRGB:function(e,t,r){for(var i=0,n=t*r*4,o=[];n>i;)o.push(e[i++]),o.push(e[i++]),o.push(e[i++]),i++;return o},componentizedPaletteToArray:function(e){var t,r,i,n,o=[];for(t=0;t<e.length;t+=3)r=e[t],i=e[t+1],n=e[t+2],o.push(r<<16|i<<8|n);return o},processFrameWithQuantizer:function(t,r,i,n){var o,a,s,c,d=this.dataToRGB(t,r,i),l=new e(d,d.length,n),u=l.process(),f=new Uint32Array(this.componentizedPaletteToArray(u)),m=r*i,g=new Uint8Array(m),h=0;for(o=0;m>o;o++)a=d[h++],s=d[h++],c=d[h++],g[o]=l.map(a,s,c);return{pixels:g,palette:f}},run:function(e){var t=e.width,r=e.height,i=e.data,n=(e.palette,e.sampleInterval);return this.processFrameWithQuantizer(i,t,r,n)}};return r};return t}(h),v=function(e,t,r,i){function n(e){var t=e.length;if(2>t||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}function o(e,t,r,i){function n(r){for(;m>=r;)e[t++]=255&g,g>>=8,m-=8,t===a+256&&(e[a]=255,a=t++)}function o(e){g|=e<<m,m+=f,n(8)}e[t++]=r;var a=t++,c=1<<r,d=c-1,l=c+1,u=l+1,f=r+1,m=0,g=0,h=i[0]&d,p={};o(c);for(var v=1,b=i.length;b>v;++v){var w=i[v]&d,y=h<<8|w,C=p[y];if(C===s){for(g|=h<<m,m+=f;m>=8;)e[t++]=255&g,g>>=8,m-=8,t===a+256&&(e[a]=255,a=t++);4096===u?(o(c),u=l+1,f=r+1,p={}):(u>=1<<f&&++f,p[y]=u++),h=w}else h=C}return o(h),o(l),n(1),a+1===t?e[a]=0:(e[a]=t-a-1,e[t++]=0),t}var a=0;i=i===s?{}:i;var c=i.loop===s?null:i.loop,d=i.palette===s?null:i.palette;if(0>=t||0>=r||t>65535||r>65535)throw"Width/Height invalid.";e[a++]=71,e[a++]=73,e[a++]=70,e[a++]=56,e[a++]=57,e[a++]=97;var l=0,u=0;if(e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=(null!==d?128:0)|l,e[a++]=u,e[a++]=0,null!==c){if(0>c||c>65535)throw"Loop count invalid.";e[a++]=33,e[a++]=255,e[a++]=11,e[a++]=78,e[a++]=69,e[a++]=84,e[a++]=83,e[a++]=67,e[a++]=65,e[a++]=80,e[a++]=69,e[a++]=50,e[a++]=46,e[a++]=48,e[a++]=3,e[a++]=1,e[a++]=255&c,e[a++]=c>>8&255,e[a++]=0}var f=!1;this.addFrame=function(t,r,i,c,l,u){if(!0===f&&(--a,f=!1),u=u===s?{}:u,0>t||0>r||t>65535||r>65535)throw"x/y invalid.";if(0>=i||0>=c||i>65535||c>65535)throw"Width/Height invalid.";if(l.length<i*c)throw"Not enough pixels for the frame size.";var m=!0,g=u.palette;if((g===s||null===g)&&(m=!1,g=d),g===s||null===g)throw"Must supply either a local or global palette.";for(var h=n(g),p=0;h>>=1;)++p;h=1<<p;var v=u.delay===s?0:u.delay,b=u.disposal===s?0:u.disposal;if(0>b||b>3)throw"Disposal out of range.";var w=!1,y=0;if(u.transparent!==s&&null!==u.transparent&&(w=!0,y=u.transparent,0>y||y>=h))throw"Transparent color index.";if((0!==b||w||0!==v)&&(e[a++]=33,e[a++]=249,e[a++]=4,e[a++]=b<<2|(!0===w?1:0),e[a++]=255&v,e[a++]=v>>8&255,e[a++]=y,e[a++]=0),e[a++]=44,e[a++]=255&t,e[a++]=t>>8&255,e[a++]=255&r,e[a++]=r>>8&255,e[a++]=255&i,e[a++]=i>>8&255,e[a++]=255&c,e[a++]=c>>8&255,e[a++]=!0===m?128|p-1:0,!0===m)for(var C=0,S=g.length;S>C;++C){var k=g[C];e[a++]=k>>16&255,e[a++]=k>>8&255,e[a++]=255&k}a=o(e,a,2>p?2:p,l)},this.end=function(){return!1===f&&(e[a++]=59,f=!0),a}},b=function(e,t,r,i){var n=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=e.noop,this.onRenderProgressCallback=e.noop,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};return n.prototype={workerMethods:t(),initializeWebWorkers:function(i){var n,a,s,c,d=r.toString()+"("+t.toString()+"());",l=-1,u="";for(c=i.numWorkers;++l<c;)n=e.createWebWorker(d),e.isObject(n)?(a=n.objectUrl,s=n.worker,this.workers.push({worker:s,objectUrl:a}),this.availableWorkers.push(s)):(u=n,e.webWorkerError=!!n);this.workerError=u,this.canvas=o.createElement("canvas"),this.canvas.width=i.gifWidth,this.canvas.height=i.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;256>t;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,r="",i=-1;++i<t;)r+=this.byteMap[e[i]];return r},onFrameFinished:function(t){var r=this,i=r.frames,n=r.options;hasExistingImages=!!(n.images||[]).length,allDone=i.every((function(e){return!e.beingProcessed&&e.done})),r.numRenderedFrames++,hasExistingImages&&t(r.numRenderedFrames/i.length),r.onRenderProgressCallback(.75*r.numRenderedFrames/i.length),allDone?r.generatingGIF||r.generateGIF(i,r.onRenderCompleteCallback):e.requestTimeout((function(){r.processNextFrame()}),1)},processFrame:function(e){var t,r,i=this,n=this.options,o=n.progressCallback,a=n.sampleInterval,s=this.frames,c=function(e){var n=e.data;delete t.data,t.pixels=Array.prototype.slice.call(n.pixels),t.palette=Array.prototype.slice.call(n.palette),t.done=!0,t.beingProcessed=!1,i.freeWorker(r),i.onFrameFinished(o)};return t=s[e],t.beingProcessed||t.done?void this.onFrameFinished():(t.sampleInterval=a,t.beingProcessed=!0,t.gifshot=!0,r=this.getWorker(),void(r?(r.onmessage=c,r.postMessage(t)):c({data:i.workerMethods.run(t)})))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var r=this.frames[t];if(!r.done&&!r.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(t,r){var n,o,a=[],s={loop:this.repeat},c=this.options,d=c.interval,l=c.images,u=!!l.length,f=c.gifHeight,m=c.gifWidth,g=new i(a,m,f,s),h=this.onRenderProgressCallback,p=u?100*d:0;this.generatingGIF=!0,e.each(t,(function(e,r){var i=r.palette;h(.75+.25*r.position*1/t.length),g.addFrame(0,0,m,f,r.pixels,{palette:i,delay:p})})),g.end(),h(1),this.frames=[],this.generatingGIF=!1,e.isFunction(r)&&(n=this.bufferToString(a),o="data:image/gif;base64,"+e.btoa(n),r(o))},setRepeat:function(e){this.repeat=e},addFrame:function(t,r){r=e.isObject(r)?r:{};var i,n=this,o=n.ctx,a=n.options,s=a.gifWidth,c=a.gifHeight,d=(r.gifHeight,r.gifWidth,r.text),l=r.fontWeight,u=e.getFontSize(r),f=r.fontFamily,m=r.fontColor,g=r.textAlign,h=r.textBaseline,p=r.textXCoordinate?r.textXCoordinate:"left"===g?1:"right"===g?s:s/2,v=r.textYCoordinate?r.textYCoordinate:"top"===h?1:"center"===h?c/2:c,b=l+" "+u+" "+f;try{o.drawImage(t,0,0,s,c),d&&(o.font=b,o.fillStyle=m,o.textAlign=g,o.textBaseline=h,o.fillText(d,p,v)),i=o.getImageData(0,0,s,c),n.addFrameImageData(i)}catch(k){return""+k}},addFrameImageData:function(e){var t=this.frames,r=e.data;this.frames.push({data:r,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(t){var r=this,i=function(i){r.destroyWorkers(),e.requestTimeout((function(){t(i)}),0)};r.startRendering(i)},destroyWorkers:function(){if(!this.workerError){var t=this.workers;e.each(t,(function(t,r){var i=r.worker,n=r.objectUrl;i.terminate(),e.URL.revokeObjectURL(n)}))}}},n}(c,p,h,v),w=function(e,t){e.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})}))},y=function(e){function t(){c.each(g,(function(e,t){t&&i.addFrame(t,u)})),w(i,l)}var r,i,n=e.images,a=e.imagesLength,l=e.callback,u=e.options,f={getUserMedia:!0,"window.URL":!0},m=d.validate(f),g=[],h=0;return m.error?l(m):(i=new b(u),void c.each(n,(function(e,i){c.isElement(i)?(u.crossOrigin&&(i.crossOrigin=u.crossOrigin),g[e]=i,h+=1,h===a&&t()):c.isString(i)&&(r=o.createElement("img"),u.crossOrigin&&(r.crossOrigin=u.crossOrigin),r.onerror=function(){g.length>e&&(g[e]=s)}(function(r){r.onload=function(){g[e]=r,h+=1,h===a&&t(),c.removeElement(r)}}(r)),r.src=i,c.setCSSAttr(r,{position:"fixed",opacity:"0"}),o.body.appendChild(r))})))},C={getGIF:function(e,t){t=c.isFunction(t)?t:c.noop;var r,i=o.createElement("canvas"),n=e.images,a=!!n.length,s=e.videoElement,d=e.keepCameraOn,l=e.webcamVideoElement,u=e.cameraStream,f=+e.gifWidth,m=+e.gifHeight,g=e.videoWidth,h=e.videoHeight,p=(e.sampleInterval,e.numWorkers,e.crop),v=+e.interval,w=a?0:1e3*v,y=e.progressCallback,C=e.savedRenderingContexts,S=e.saveRenderingContexts,k=[],x=C.length?C.length:e.numFrames,F=x,E=new b(e),W=e.text,O=e.fontWeight,A=c.getFontSize(e),U=e.fontFamily,I=e.fontColor,R=e.textAlign,M=e.textBaseline,T=e.textXCoordinate?e.textXCoordinate:"left"===R?1:"right"===R?f:f/2,V=e.textYCoordinate?e.textYCoordinate:"top"===M?1:"center"===M?m/2:m,j=O+" "+A+" "+U,z=p?Math.floor(p.scaledWidth/2):0,H=p?g-p.scaledWidth:0,L=p?Math.floor(p.scaledHeight/2):0,P=p?h-p.scaledHeight:0,B=function e(){function i(){try{H>g&&(H=g),P>h&&(P=h),0>z&&(z=0),0>L&&(L=0),r.drawImage(s,z,L,H,P,0,0,f,m),n()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(i,100)}}function n(){F=o;var n,a,g,h,p=x-F;S&&k.push(r.getImageData(0,0,f,m)),W&&(r.font=j,r.fillStyle=I,r.textAlign=R,r.textBaseline=M,r.fillText(W,T,V)),n=r.getImageData(0,0,f,m),a=n.data,g=a[0]+a[1]+a[2]+a[3],h=0===g,h?1===p&&1===x&&i():E.addFrameImageData(n),y(p/x),o>0&&c.requestTimeout(e,w),F||E.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:u,videoElement:s,webcamVideoElement:l,savedRenderingContexts:k,keepCameraOn:d})}))}var o=F-1;C.length?(r.putImageData(C[x-F],0,0),n()):i()};x=null!=x?x:10,v=null!=v?v:.1,i.width=f,i.height=m,r=i.getContext("2d"),function e(){return C.length||0!==s.currentTime?void B():void c.requestTimeout(e,100)}()},getCropDimensions:function(e){var t=e.videoWidth,r=e.videoHeight,i=e.gifWidth,n=e.gifHeight,o={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>r?(o.width=Math.round(t*(n/r))-i,o.scaledWidth=Math.round(o.width*(r/n))):(o.height=Math.round(r*(i/t))-n,o.scaledHeight=Math.round(o.height*(t/i))),o}},S={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var r=this,i=t.videoElement,n=t.cameraStream,o=t.completedCallback;i&&(i.videoWidth>0&&i.videoHeight>0?(i.removeEventListener("loadeddata",r.findVideoSize),o({videoElement:i,cameraStream:n,videoWidth:i.videoWidth,videoHeight:i.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout((function(){r.findVideoSize(t)}),200)):o({videoElement:i,cameraStream:n,videoWidth:r.defaultVideoDimensions.width,videoHeight:r.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=this,r=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,i=e.videoElement,n=e.cameraStream,o=e.streamedCallback,a=e.completedCallback;c.isFunction(o)&&o(),r?c.isString(r)&&(i.src=r,i.innerHTML='<source src="'+r+'" type="video/'+c.getExtension(r)+'" />'):i.mozSrcObject?i.mozSrcObject=n:c.URL&&(i.src=c.URL.createObjectURL(n)),i.play(),c.requestTimeout((function e(){e.count=e.count||0,!0===t.loadedData?(t.findVideoSize({videoElement:i,cameraStream:n,completedCallback:a}),t.loadedData=!1):(e.count+=1,e.count>10?t.findVideoSize({videoElement:i,cameraStream:n,completedCallback:a}):e())}),100)},startStreaming:function(e){var t=this,r=c.isFunction(e.error)?e.error:c.noop,i=c.isFunction(e.streamed)?e.streamed:c.noop,n=c.isFunction(e.completed)?e.completed:c.noop,a=e.existingVideo,s=e.webcamVideoElement,d=c.isElement(a)?a:s||o.createElement("video"),l=e.lastCameraStream,u=e.crossOrigin,f=e.options;u&&(d.crossOrigin=f.crossOrigin),d.autoplay=!0,d.loop=!0,d.muted=!0,d.addEventListener("loadeddata",(function(){t.loadedData=!0})),a?t.stream({videoElement:d,existingVideo:a,completedCallback:n}):l?t.stream({videoElement:d,cameraStream:l,streamedCallback:i,completedCallback:n}):c.getUserMedia({video:!0},(function(e){t.stream({videoElement:d,cameraStream:e,streamedCallback:i,completedCallback:n})}),r)},startVideoStreaming:function(e,t){t=t||{};var r,i=this,n=t.timeout!==s?t.timeout:0,o=t.callback,a=t.webcamVideoElement;n>0&&(r=c.requestTimeout((function(){i.onStreamingTimeout(o)}),1e4)),this.startStreaming({error:function(){o({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(r)},completed:function(t){var r=t.cameraStream,i=t.videoElement,n=t.videoWidth,o=t.videoHeight;e({cameraStream:r,videoElement:i,videoWidth:n,videoHeight:o})},lastCameraStream:t.lastCameraStream,webcamVideoElement:a,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){e=c.isObject(e)?e:{};var t=e.cameraStream,r=e.videoElement,i=e.keepCameraOn,n=e.webcamVideoElement;!i&&t&&c.isFunction(t.stop)&&t.stop(),c.isElement(r)&&!n&&(r.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&r.src&&c.URL.revokeObjectURL(r.src),c.removeElement(r))}},k=function(e){e=c.isObject(e)?e:{};var t=(c.isObject(e.options)&&e.options,e.cameraStream),r=e.videoElement,i=e.webcamVideoElement,n=e.keepCameraOn;S.stopVideoStreaming({cameraStream:t,videoElement:r,keepCameraOn:n,webcamVideoElement:i})},x=function(e,t){var r=e.options||{},i=r.images,n=r.video,a=(r.numFrames,e.cameraStream),s=e.videoElement,d=e.videoWidth,l=e.videoHeight,u=+r.gifWidth,f=+r.gifHeight,m=C.getCropDimensions({videoWidth:d,videoHeight:l,gifHeight:f,gifWidth:u}),g=t;r.crop=m,r.videoElement=s,r.videoWidth=d,r.videoHeight=l,r.cameraStream=a,c.isElement(s)&&(s.width=u+m.width,s.height=f+m.height,r.webcamVideoElement||(c.setCSSAttr(s,{position:"fixed",opacity:"0"}),o.body.appendChild(s)),s.play(),C.getGIF(r,(function(e){i&&i.length||n&&n.length||k(e),g(e)})))},F=function(e){var t,r,i=e.existingVideo,n=e.callback,o=e.options,a={getUserMedia:!0,"window.URL":!0},s=d.validate(a);if(s.error)return n(s);if(c.isElement(i)&&i.src){if(r=i.src,t=c.getExtension(r),!c.isSupported.videoCodecs[t])return n(d.messages.videoCodecs)}else c.isArray(i)&&c.each(i,(function(e,r){return t=r.substr(r.lastIndexOf(".")+1,r.length),c.isSupported.videoCodecs[t]?(i=r,!1):void 0}));S.startStreaming({completed:function(e){e.options=o||{},x(e,n)},existingVideo:i,crossOrigin:o.crossOrigin,options:o})},E=function(e){var t=e.lastCameraStream,r=e.callback,i=e.webcamVideoElement,n=e.options;return f()?n.savedRenderingContexts.length?void C.getWebcamGIF(n,(function(e){r(e)})):void S.startVideoStreaming((function(e){e.options=n||{},x(e,r)}),{lastCameraStream:t,callback:r,webcamVideoElement:i,crossOrigin:n.crossOrigin}):r(d.validate())},W=function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var r=c.mergeOptions(l,e)||{},i=e.cameraStream,n=r.images,o=n?n.length:0,a=r.video,s=r.webcamVideoElement;r=c.mergeOptions(r,{gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)}),o?y({images:n,imagesLength:o,callback:t,options:r}):a?F({existingVideo:a,callback:t,options:r}):E({lastCameraStream:i,callback:t,webcamVideoElement:s,options:r})}},O=function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var r=c.mergeOptions(l,e),i=c.mergeOptions(r,{interval:.1,numFrames:1,gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)});W(i,t)}},A=function(e,t,r,i,n,o,a,s,c,d){var l={utils:e,error:t,defaultOptions:r,createGIF:s,takeSnapShot:c,stopVideoStreaming:d,isSupported:i,isWebCamGIFSupported:n,isExistingVideoGIFSupported:a,isExistingImagesGIFSupported:o,VERSION:"0.3.2"};return l}(c,d,l,u,f,m,g,W,O,k),function(r){i=[],n=function(){return r}.apply(t,i),void 0===n||(e.exports=n)}(A)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},b5f1:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body"},[r("div",{staticClass:"con full-screen flex-cen-col"},[r("div",{staticClass:"top flex-cen"},e._l(e.imgList,(function(e,t){return r("img",{key:"key"+t,attrs:{src:e,alt:""}})})),0),r("button",{class:{dis:e.gifUrl},on:{click:e.compose}},[e._v("一键合成gif")]),r("div",{staticClass:"bottoms"},[r("img",{attrs:{src:e.gifUrl,alt:""}})])])])},n=[],o=r("71c2"),a=r("995d"),s=r.n(a),c={name:"create-gif",data:function(){return{pageTitle:"合成gif图",imgList:["https://img.vrupup.com/web/szq/images/avatar_01.png","https://img.vrupup.com/web/szq/images/avatar_02.png","https://img.vrupup.com/web/szq/images/avatar_03.png","https://img.vrupup.com/web/szq/images/avatar_04.png"],gifUrl:""}},methods:{compose:function(){var e=this;this.gifUrl||(this.$toast.loading({message:"合成中",duration:0,loadingType:"spinner"}),s.a.createGIF({interval:.7,gifWidth:200,gifHeight:200,images:this.imgList},(function(t){if(!t.error){e.$toast.clear(),e.$toast("合成完成");var r=t.image;e.gifUrl=r}})))}},components:{MyHeader:o["a"]}},d=c,l=(r("720b"),r("e90a")),u=Object(l["a"])(d,i,n,!1,null,"6afdb749",null);t["default"]=u.exports},ba92:function(e,t,r){},d838:function(e,t,r){var i=r("26a2");i("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))}}]);